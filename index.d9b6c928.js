function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,r){if(t){if("string"==typeof t)return e(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r=document.body.querySelector("thead"),n=document.body.querySelector("tbody"),a=n.querySelectorAll("tr"),o=Array.from(a),c=0,i=[],l=Array.from(r.querySelectorAll("th")).slice(0,3),u=function(e){var r=o.sort(function(t,r){var n=t.firstElementChild.textContent,a=r.firstElementChild.textContent;return i.includes(e.target.textContent)||(i.push(e.target.textContent),c=0),c?a.localeCompare(n):n.localeCompare(a)});n.replaceChildren.apply(n,t(r)),c=1-c};l.forEach(function(e){e.addEventListener("click",u)});var d=Array.from(r.querySelectorAll("th")).slice(-2),s=0,f=0;d[0].addEventListener("click",function(e){var r=o.sort(function(e,t){return s?+t.children[3].textContent-+e.children[3].textContent:+e.children[3].textContent-+t.children[3].textContent});s=1-s,n.replaceChildren.apply(n,t(r))}),d[1].addEventListener("click",function(e){var r=o.sort(function(e,t){var r=+e.lastElementChild.textContent.replace(/[^\d.-]/g,""),n=+t.lastElementChild.textContent.replace(/[^\d.-]/g,"");return f?n-r:r-n});f=1-f,n.replaceChildren.apply(n,t(r))}),a.forEach(function(e){e.addEventListener("click",function(e){a.forEach(function(e){e.classList.contains("activ")&&(e.classList.remove("activ"),e.style.background="")}),e.currentTarget.classList.add("activ"),e.currentTarget.style.background="#999ec5"})});var m=document.createElement("form");m.classList.add("new-employee-form");var v=[{label:"Name:",dataQa:"name"},{label:"Position:",dataQa:"position"},{label:"Age:",dataQa:"age"},{label:"Salary:",dataQa:"salary"}];v.forEach(function(e){var t=document.createElement("label");t.textContent=e.label;var r=document.createElement("input");e===v[0]||e===v[1]?r.setAttribute("type","text"):r.setAttribute("type","number"),r.setAttribute("required",""),r.setAttribute("data-qa",e.dataQa),t.append(r),m.append(t)});var p=document.createElement("label"),b=document.createElement("select");p.textContent="Office:",p.setAttribute("for","office-select"),b.setAttribute("id","office-select"),["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"].forEach(function(e){var t=document.createElement("option");t.textContent=e,b.append(t)}),b.setAttribute("required",""),b.setAttribute("data-qa","office"),p.append(b);var y=document.createElement("button");y.textContent="Save to table",y.setAttribute("type","submit"),m.children[2].before(p),m.append(y),document.body.append(m),m.addEventListener("submit",function(e){e.preventDefault();var t=!0,r=Array.from(m.children).slice(0,-1),a=r.map(function(e,t){var r,n,a=e.firstElementChild.value;return r={},(n=e.firstChild)in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r});if(r.forEach(function(e,r){var n=m.children[0].querySelector("input").value;0===r&&n.length<4&&(t=!1);var a=m.children[3].querySelector("input").value;3===r&&(+a>90||18>+a)&&(t=!1)}),!1===t){var o=document.querySelector(".error");if(o){o.style.background="red",setTimeout(function(){o.style.background=""},500);return}var c=document.createElement("div");c.setAttribute("data-qa","notification"),c.classList.add("error"),c.textContent="Errore",document.body.append(c),setTimeout(function(){document.querySelector(".error").remove()},4e3)}else{var i=document.createElement("tr");if(a.forEach(function(e){var t=document.createElement("td");t.textContent=Object.values(e)[0],i.append(t)}),n.prepend(i),document.querySelector(".success"))return;var l=document.createElement("div");l.setAttribute("data-qa","notification"),l.classList.add("success"),l.textContent="success",document.body.append(l)}});var E=function(e){var t=n.querySelector(".cell-input");t&&(t.removeEventListener("dblclick",E),t.removeAttribute("contenteditable"),t.classList.remove("cell-input"));var r=e.target,a=r.textContent;r.setAttribute("contenteditable","true"),r.classList.add("cell-input"),r.focus();var o=function(e){"Enter"===e.key?(r.classList.remove("cell-input"),e.preventDefault(),r.blur(),r.removeEventListener("keydown",o)):"Escape"===e.key&&(r.classList.remove("cell-input"),r.textContent=a,r.blur(),r.removeEventListener("keydown",o))},c=function(e){var t=r.textContent.trim();0===t.length&&(r.textContent=a),r.textContent=t,r.removeEventListener("blur",c)};r.addEventListener("keydown",o),r.addEventListener("blur",c)};n.addEventListener("dblclick",E);
//# sourceMappingURL=index.d9b6c928.js.map
